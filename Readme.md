# NetConf Parser

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–æ–ø–æ–ª–æ–≥–∏–π —Å–µ—Ç–∏.

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏–∑ –Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ú–æ–¥–µ–ª—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∫–æ–º–º—É—Ç–∞—Ç–æ—Ä, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä, —Ñ–∞–π—Ä–≤–æ–ª –∏ —Ç.–¥.)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø–µ—Ä–µ—á–µ–Ω—å VLAN
- –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ–º—ã—Ö —Å–µ—Ç–µ–π

–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º –∏ —Ç–æ–ø–æ–ª–æ–≥–∏–π.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üí° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –æ—Ç 9 –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π:
  - Cisco (IOS, NX-OS, ASA)
  - Juniper (Junos)
  - Huawei (Enterprise, Carrier)
  - MikroTik (RouterOS)
  - F5 (BIG-IP)
  - Arista (EOS)
  - Palo Alto Networks (PAN-OS)
  - Fortinet (FortiOS)
  - Aruba/HPE
  - Dell Networking

- üì¶ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- üîÑ –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ–Ω–¥–æ—Ä–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º —Å–∏–≥–Ω–∞—Ç—É—Ä –Ω–∞–¥ –æ–±—â–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏
- üö® –ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤
- üåê –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (hierarchical, set-based)
- üìä –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ
- üîç –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ
- üñáÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ–ø–æ–ª–æ–≥–∏–∏ —Å–µ—Ç–∏ (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–µ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏)
- üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏ —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–æ–≤ draw.io
- üìã –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —Å–µ—Ç–µ–π –∏ —Å–≤—è–∑–µ–π
- üîÑ –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∏–ª–æ–≤–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ
- üìâ –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π —Ä–∞–∑–±—Ä–æ—Å –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- üîÑ –£—Å–∏–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ —Å–µ—Ç—è–º–∏
- üîÑ –£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ —Å–µ—Ç—è–º–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- üîó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ add_link
- üè∑Ô∏è –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ set_parent –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
project/
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ network_visualizer.py
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ device configs...
‚îî‚îÄ‚îÄ patterns/
    ‚îú‚îÄ‚îÄ drawio/
    ‚îÇ   ‚îú‚îÄ‚îÄ base.drawio
    ‚îÇ   ‚îî‚îÄ‚îÄ templates/
    ‚îÇ       ‚îú‚îÄ‚îÄ index.yaml
    ‚îÇ       ‚îî‚îÄ‚îÄ stencils.yaml
    ‚îú‚îÄ‚îÄ cisco.json
    ‚îú‚îÄ‚îÄ juniper.json
    ‚îú‚îÄ‚îÄ huawei.json
    ‚îú‚îÄ‚îÄ mikrotik.json
    ‚îú‚îÄ‚îÄ f5.json
    ‚îú‚îÄ‚îÄ arista.json
    ‚îú‚îÄ‚îÄ paloalto.json
    ‚îú‚îÄ‚îÄ fortinet.json
    ‚îú‚îÄ‚îÄ aruba.json
    ‚îî‚îÄ‚îÄ dell.json
‚îî‚îÄ‚îÄ presentation/
    ‚îî‚îÄ‚îÄ drawio patterns...
```

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PyYAML (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ YAML-—à–∞–±–ª–æ–Ω–æ–≤)
- N2G (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å draw.io –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (os, re, json, typing, collections, ipaddress)

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/yourusername/netconf-parser.git
   cd netconf-parser

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt

3. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
    ```bash
    python3 -m venv .venv
    source .venv/bin/activate  # –¥–ª—è Linux/Mac
    # –∏–ª–∏ .venv\Scripts\activate –¥–ª—è Windows

4. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É data/
    ```bash
    mkdir data
    cp /path/to/your/configs/*.cfg data/

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑:
    ```bash
    python3 main.py

üìù –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω —à–∞–±–ª–æ–Ω: juniper.json (–≤–µ—Ä—Å–∏—è 1.1)
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω —à–∞–±–ª–æ–Ω: huawei.json (–≤–µ—Ä—Å–∏—è 1.2)
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω —à–∞–±–ª–æ–Ω: cisco.json (–≤–µ—Ä—Å–∏—è 1.1)

===========================================================================================================================
–§–∞–π–ª                                –í–µ–Ω–¥–æ—Ä   –ò–º—è                 –ú–æ–¥–µ–ª—å                          –¢–∏–ø             VLAN  –°–µ—Ç–∏
---------------------------------------------------------------------------------------------------------------------------
spb-ldc-spine-sw-01.txt             Huawei   spb-ldc-spine-sw-01 FM8850-64CQ-EI                   carrier_switch  0     105
spb-cdc-spine-sw-01.txt             Huawei   spb-cdc-spine-sw-01 CE Series (Data Center Switch)   carrier_switch  0     11
spb-ldc-leaf-sw-01.txt              Huawei   spb-ldc-leaf-sw-01  CE6881-48S6CQ                    carrier_switch  21    17
spb-cdc-leaf-sw-01.txt              Huawei   spb-cdc-leaf-sw-01  CE Series (Data Center Switch)   carrier_switch  5     14
===========================================================================================================================

‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —Ñ–∞–π–ª: network_details.txt
```

## üß© –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π JSON-—Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ patterns/ (–Ω–∞–ø—Ä–∏–º–µ—Ä, newvendor.json)
–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —à–∞–±–ª–æ–Ω–∞:
```json
{
  "vendor": "NewVendor",
  "version": "1.0",
  "vendor_signatures": ["—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ_—Å–∏–≥–Ω–∞—Ç—É—Ä—ã_–≤–µ–Ω–¥–æ—Ä–∞"],
  "detect_patterns": ["–æ–±—â–∏–µ_–ø–∞—Ç—Ç–µ—Ä–Ω—ã"],
  "name_patterns": [{"pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_–∏–º–µ–Ω–∏", "group": 1}],
  "model_patterns": [{"pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_–º–æ–¥–µ–ª–∏", "group": 1}],
  "type_inference": [
    {"any": ["–∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞"], "type": "—Ç–∏–ø_—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞", "score": 100}
  ],
  "default_device_type": "router_or_switch",
  "network_extraction_rules": {
    "interfaces": {
      "start": "–ø–∞—Ç—Ç–µ—Ä–Ω_–Ω–∞—á–∞–ª–∞_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
      "ip_pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_IP",
      "disable_pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_–æ—Ç–∫–ª—é—á–µ–Ω–∏—è"
    },
    "vlans": {
      "all_pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_–≤—Å–µ—Ö_VLAN",
      "active_pattern": "–ø–∞—Ç—Ç–µ—Ä–Ω_–∞–∫—Ç–∏–≤–Ω—ã—Ö_VLAN"
    }
  }
}

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ø–æ–ª–æ–≥–∏–∏

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏:

- **–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è**: –∫—Ä—É–≥–æ–≤–æ–π, —Å–µ—Ç–æ—á–Ω—ã–π, —Å–∏–ª–æ–≤–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏, –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∏–ª–æ–≤–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º**: —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–µ—Ç–∏) –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ —Å–µ—Ç—è–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–µ–π**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è/–ø—Ä–∏—Ç—è–∂–µ–Ω–∏—è)
- –ò–∑–º–µ–Ω—è—Ç—å —Å—Ç–∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Ü–µ–¥—É—Ä—ã set_parent